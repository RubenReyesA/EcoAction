{"remainingRequest":"/Users/ruben107/Documents/Alfa/ecoAction/node_modules/thread-loader/dist/cjs.js!/Users/ruben107/Documents/Alfa/ecoAction/node_modules/babel-loader/lib/index.js!/Users/ruben107/Documents/Alfa/ecoAction/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ruben107/Documents/Alfa/ecoAction/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/ruben107/Documents/Alfa/ecoAction/src/views/HomeFragment.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/ruben107/Documents/Alfa/ecoAction/src/views/HomeFragment.vue","mtime":1612165543884},{"path":"/Users/ruben107/Documents/Alfa/ecoAction/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ruben107/Documents/Alfa/ecoAction/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ruben107/Documents/Alfa/ecoAction/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ruben107/Documents/Alfa/ecoAction/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ruben107/Documents/Alfa/ecoAction/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IElvblBhZ2UsIElvbkhlYWRlciwgSW9uVG9vbGJhciwgSW9uVGl0bGUsIElvbkNvbnRlbnQsIElvbkljb24sIElvbkJ1dHRvbnMsIElvbkJ1dHRvbiwgSW9uR3JpZCwgSW9uUm93LCBJb25Db2wsIElvblNlZ21lbnQsIElvblNlZ21lbnRCdXR0b24sIElvbkxhYmVsLCBsb2FkaW5nQ29udHJvbGxlciB9IGZyb20gIkBpb25pYy92dWUiOwppbXBvcnQgeyBsb2dJbiwgcmVmcmVzaENpcmNsZSB9IGZyb20gImlvbmljb25zL2ljb25zIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgTmF0aXZlU3RvcmFnZSB9IGZyb20gIkBpb25pYy1uYXRpdmUvbmF0aXZlLXN0b3JhZ2UiOwppbXBvcnQgTG9naW5SZWdpc3RlclNlc3Npb24gZnJvbSAiLi4vY29tcG9uZW50cy9Mb2dpblJlZ2lzdGVyU2Vzc2lvbiI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCB9IGZyb20gInZ1ZSI7CmltcG9ydCBFdmVudEJ1cyBmcm9tICJldmVudGluZy1idXMiOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICJIb21lRnJhZ21lbnQiLAogIGNvbXBvbmVudHM6IHsKICAgIElvblBhZ2U6IElvblBhZ2UsCiAgICBJb25IZWFkZXI6IElvbkhlYWRlciwKICAgIElvblRvb2xiYXI6IElvblRvb2xiYXIsCiAgICBJb25UaXRsZTogSW9uVGl0bGUsCiAgICBJb25Db250ZW50OiBJb25Db250ZW50LAogICAgSW9uQnV0dG9uOiBJb25CdXR0b24sCiAgICBJb25JY29uOiBJb25JY29uLAogICAgTG9naW5SZWdpc3RlclNlc3Npb246IExvZ2luUmVnaXN0ZXJTZXNzaW9uLAogICAgSW9uQnV0dG9uczogSW9uQnV0dG9ucywKICAgIElvbkdyaWQ6IElvbkdyaWQsCiAgICBJb25Sb3c6IElvblJvdywKICAgIElvbkNvbDogSW9uQ29sLAogICAgSW9uU2VnbWVudDogSW9uU2VnbWVudCwKICAgIElvblNlZ21lbnRCdXR0b246IElvblNlZ21lbnRCdXR0b24sCiAgICBJb25MYWJlbDogSW9uTGFiZWwKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlOiAiZGF5IiwKICAgICAgc2hvd1VzZXI6IHRydWUsCiAgICAgIHVzZXI6IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBiYWxhbmNlOiAiMCIKICAgICAgfSwKICAgICAgY29udHJvbDogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmNoZWNrTG9naW4oKTsKICAgIEV2ZW50QnVzLm9uKCJoaSIsIHRoaXMuY2hlY2tMb2dpbik7CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICByZXR1cm4gewogICAgICBsb2dJbjogbG9nSW4sCiAgICAgIHJlZnJlc2hDaXJjbGU6IHJlZnJlc2hDaXJjbGUKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRCYWxhbmNlczogZnVuY3Rpb24gZ2V0QmFsYW5jZXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgYWRkciA9ICIweDI5NTE2ODRCMEE4REQ0YjY1NWJGNTkyNGJlOWUzNTFmM2QzMzYwZTIiOwogICAgICBheGlvcyh7CiAgICAgICAgdXJsOiAiaHR0cDovLzE5Mi4xNjguMS40MTozMDEzL2dldEJhbGFuY2U/dG9rZW5BZGRyZXNzPSIgKyBhZGRyLAogICAgICAgIG1ldGhvZDogImdldCIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBsb2FkaW5nQ29udHJvbGxlci5jcmVhdGUoewogICAgICAgICAgbWVzc2FnZTogIkNhcmdhbmRvIHNhbGRvLi4uIgogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGxvYWRpbmcpIHsKICAgICAgICAgIF90aGlzLmNvbnRyb2wgPSBsb2FkaW5nOwogICAgICAgICAgbG9hZGluZy5wcmVzZW50KCk7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMudXNlci5iYWxhbmNlID0gcmVzcG9uc2UuZGF0YSArICIiOwoKICAgICAgICAgICAgX3RoaXMuY29udHJvbC5kaXNtaXNzKCk7CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgY2hlY2tMb2dpbjogZnVuY3Rpb24gY2hlY2tMb2dpbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBOYXRpdmVTdG9yYWdlLmdldEl0ZW0oImxvZ2luIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLnVzZXIubmFtZSA9IHJlczsKICAgICAgICBfdGhpczIuc2hvd1VzZXIgPSB0cnVlOwoKICAgICAgICBfdGhpczIudXBkYXRlSW5mb1VzZXIoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5zaG93VXNlciA9IGZhbHNlOwogICAgICAgIF90aGlzMi51c2VyID0gewogICAgICAgICAgbmFtZTogIiIsCiAgICAgICAgICBiYWxhbmNlOiAiMCIKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICBsb2dPdXQ6IGZ1bmN0aW9uIGxvZ091dCgpIHsKICAgICAgTmF0aXZlU3RvcmFnZS5yZW1vdmUoImxvZ2luIik7CiAgICAgIGFsZXJ0KCJTZXNpw7NuIGNlcnJhZGEgY29ycmVjdGFtZW50ZSIpOwogICAgICB0aGlzLmNoZWNrTG9naW4oKTsKICAgIH0sCiAgICB1cGRhdGVJbmZvVXNlcjogZnVuY3Rpb24gdXBkYXRlSW5mb1VzZXIoKSB7CiAgICAgIHRoaXMuZ2V0QmFsYW5jZXMoKTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/Users/ruben107/Documents/Alfa/ecoAction/src/views/HomeFragment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <ion-page>\n    <ion-header>\n      <ion-toolbar>\n        <ion-title v-if=\"showUser\">Hola {{ user.name }}!</ion-title>\n        <ion-title v-if=\"!showUser\">EcoAction</ion-title>\n      </ion-toolbar>\n    </ion-header>\n\n    <ion-content :fullscreen=\"true\">\n      <ion-header collapse=\"condense\">\n        <ion-toolbar>\n          <ion-title size=\"large\" v-if=\"showUser\"\n            >Hola {{ user.name }}!</ion-title\n          >\n          <ion-title size=\"large\" v-if=\"!showUser\">EcoAction</ion-title>\n          <ion-buttons slot=\"end\">\n            <ion-button @click=\"updateInfoUser\">\n              <ion-icon\n                slot=\"icon-only\"\n                v-if=\"showUser\"\n                :icon=\"refreshCircle\"\n              ></ion-icon>\n            </ion-button>\n\n            <ion-button @click=\"logOut\">\n              <ion-icon\n                slot=\"icon-only\"\n                v-if=\"showUser\"\n                :icon=\"logIn\"\n              ></ion-icon>\n            </ion-button>\n          </ion-buttons>\n        </ion-toolbar>\n      </ion-header>\n\n      <div v-if=\"!showUser\">\n\n      </div>\n\n      <div v-if=\"showUser\">\n        <ion-grid id=\"helloContainer\">\n          <ion-row>\n            <ion-col class=\"ion-no-padding\">\n              <div class=\"container\">\n                <p id=\"priceTitle\">Actualmente dispones de:</p>\n              </div>\n            </ion-col>\n          </ion-row>\n\n          <ion-row>\n            <ion-col class=\"ion-no-padding\">\n              <div class=\"container\">\n                <p id=\"priceValue\">{{ user.balance }} EA2C</p>\n              </div>\n            </ion-col>\n          </ion-row>\n        </ion-grid>\n\n        <ion-grid>\n          <ion-row>\n            <ion-col class=\"ion-no-padding\">\n              <div class=\"container\">\n                <ion-segment v-model=\"mode\">\n                  <ion-segment-button value=\"day\">\n                    <ion-label>Today</ion-label>\n                  </ion-segment-button>\n                  <ion-segment-button value=\"week\">\n                    <ion-label>Last Week</ion-label>\n                  </ion-segment-button>\n                  <ion-segment-button value=\"month\">\n                    <ion-label>Last Month</ion-label>\n                  </ion-segment-button>\n                  <ion-segment-button value=\"year\">\n                    <ion-label>Last Year</ion-label>\n                  </ion-segment-button>\n                  <ion-segment-button value=\"all\">\n                    <ion-label>All</ion-label>\n                  </ion-segment-button>\n                </ion-segment>\n              </div>\n            </ion-col>\n          </ion-row>\n\n          <ion-row>\n            <ion-col>\n              {{ mode }}\n            </ion-col>\n          </ion-row>\n        </ion-grid>\n      </div>\n\n      <LoginRegisterSession v-if=\"!showUser\" />\n\n      <h2 class=\"useSora\">HOLA</h2>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script>\nimport {\n  IonPage,\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonContent,\n  IonIcon,\n  IonButtons,\n  IonButton,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonSegment,\n  IonSegmentButton,\n  IonLabel,\n  loadingController,\n} from \"@ionic/vue\";\n\nimport { logIn, refreshCircle } from \"ionicons/icons\";\n\nimport axios from \"axios\";\nimport { NativeStorage } from \"@ionic-native/native-storage\";\n\nimport LoginRegisterSession from \"../components/LoginRegisterSession\";\n\nimport { defineComponent } from \"vue\";\n\nimport EventBus from \"eventing-bus\";\n\nexport default defineComponent({\n  name: \"HomeFragment\",\n  components: {\n    IonPage,\n    IonHeader,\n    IonToolbar,\n    IonTitle,\n    IonContent,\n    IonButton,\n    IonIcon,\n    LoginRegisterSession,\n    IonButtons,\n    IonGrid,\n    IonRow,\n    IonCol,\n    IonSegment,\n    IonSegmentButton,\n    IonLabel,\n  },\n  data: function () {\n    return {\n      mode: \"day\",\n      showUser: true,\n      user: {\n        name: \"\",\n        balance: \"0\",\n      },\n      control: null,\n    };\n  },\n  created: function () {\n    this.checkLogin();\n    EventBus.on(\"hi\", this.checkLogin);\n  },\n  setup: function () {\n    return {\n      logIn,\n      refreshCircle,\n    };\n  },\n  methods: {\n    getBalances: function () {\n      const addr = \"0x2951684B0A8DD4b655bF5924be9e351f3d3360e2\";\n      axios({\n        url: \"http://192.168.1.41:3013/getBalance?tokenAddress=\" + addr,\n        method: \"get\",\n      }).then((response) => {\n        loadingController\n          .create({\n            message: \"Cargando saldo...\",\n          })\n          .then((loading) => {\n            this.control = loading;\n            loading.present();\n            setTimeout(() => {\n              this.user.balance = response.data + \"\";\n              this.control.dismiss();\n            }, 1000);\n          });\n      });\n    },\n    checkLogin: function () {\n      NativeStorage.getItem(\"login\")\n        .then((res) => {\n          this.user.name = res;\n          this.showUser = true;\n          this.updateInfoUser();\n        })\n        .catch(() => {\n          this.showUser = false;\n          this.user = {\n            name: \"\",\n            balance: \"0\",\n          };\n        });\n    },\n    logOut: function () {\n      NativeStorage.remove(\"login\");\n      alert(\"Sesi√≥n cerrada correctamente\");\n      this.checkLogin();\n    },\n    updateInfoUser: function () {\n      this.getBalances();\n    },\n  },\n});\n</script>\n\n<style scoped>\n@import \"../styles/homeStyle.css\";\n@import \"../styles/fontStyle.css\";\n</style>"],"sourceRoot":""}]}