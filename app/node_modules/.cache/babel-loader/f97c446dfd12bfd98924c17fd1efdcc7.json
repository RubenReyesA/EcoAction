{"remainingRequest":"/Users/ruben107/Documents/Alfa/ecoAction/node_modules/babel-loader/lib/index.js!/Users/ruben107/Documents/Alfa/ecoAction/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ruben107/Documents/Alfa/ecoAction/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/ruben107/Documents/Alfa/ecoAction/src/views/SearchFragment.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/ruben107/Documents/Alfa/ecoAction/src/views/SearchFragment.vue","mtime":1612440235066},{"path":"/Users/ruben107/Documents/Alfa/ecoAction/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ruben107/Documents/Alfa/ecoAction/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ruben107/Documents/Alfa/ecoAction/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ruben107/Documents/Alfa/ecoAction/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgSW9uUGFnZSwgSW9uSGVhZGVyLCBJb25Ub29sYmFyLCBJb25UaXRsZSwgSW9uQ29udGVudCwgSW9uSWNvbiwgSW9uR3JpZCwgSW9uQ29sLCBJb25Sb3csIElvbkNhcmQsIElvbkNhcmRDb250ZW50LCBJb25SaXBwbGVFZmZlY3QsIG1vZGFsQ29udHJvbGxlciB9IGZyb20gIkBpb25pYy92dWUiOwppbXBvcnQgeyBiYXJjb2RlLCBjYW1lcmEsIHNlYXJjaENpcmNsZSB9IGZyb20gImlvbmljb25zL2ljb25zIjsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCB9IGZyb20gInZ1ZSI7CmltcG9ydCBBSU9iamVjdE1vZGFsIGZyb20gIi4uL2NvbXBvbmVudHMvQUlPYmplY3RNb2RhbC52dWUiOwppbXBvcnQgeyBCYXJjb2RlU2Nhbm5lciB9IGZyb20gIkBpb25pYy1uYXRpdmUvYmFyY29kZS1zY2FubmVyIjsKaW1wb3J0IEV2ZW50QnVzIGZyb20gImV2ZW50aW5nLWJ1cyI7CmltcG9ydCB7IGdldEZvcm1hdCB9IGZyb20gImd0aW4iOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICJTZWFyY2hGcmFnbWVudCIsCiAgY29tcG9uZW50czogewogICAgSW9uSGVhZGVyOiBJb25IZWFkZXIsCiAgICBJb25Ub29sYmFyOiBJb25Ub29sYmFyLAogICAgSW9uVGl0bGU6IElvblRpdGxlLAogICAgSW9uQ29udGVudDogSW9uQ29udGVudCwKICAgIElvblBhZ2U6IElvblBhZ2UsCiAgICBJb25JY29uOiBJb25JY29uLAogICAgSW9uR3JpZDogSW9uR3JpZCwKICAgIElvbkNvbDogSW9uQ29sLAogICAgSW9uUm93OiBJb25Sb3csCiAgICBJb25DYXJkOiBJb25DYXJkLAogICAgSW9uQ2FyZENvbnRlbnQ6IElvbkNhcmRDb250ZW50LAogICAgSW9uUmlwcGxlRWZmZWN0OiBJb25SaXBwbGVFZmZlY3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb2RlOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYmFyc2Nhbm5lcjogZnVuY3Rpb24gYmFyc2Nhbm5lcigpIHsKICAgICAgdGhpcy5nb3RvQmFyY29kZSgnNDAwOTkwMDUzNTUxOScpOwogICAgICAvKiBCYXJjb2RlU2Nhbm5lci5zY2FuKHsKICAgICAgICAgc2hvd0ZsaXBDYW1lcmFCdXR0b246IHRydWUsIC8vIGlPUyBhbmQgQW5kcm9pZAogICAgICAgICBzaG93VG9yY2hCdXR0b246IHRydWUsIC8vIGlPUyBhbmQgQW5kcm9pZAogICAgICAgfSkKICAgICAgICAgLnRoZW4oKGJhcmNvZGVEYXRhKSA9PiB7CiAgICAgICAgICAgCiAgICAgICAgICAgY29uc3QgcSA9IGdldEZvcm1hdChiYXJjb2RlRGF0YS50ZXh0KTsKICAgICAgICAgICBpZiAocSA9PSAiR1RJTi0xMyIpIHsKICAgICAgICAgICAgIHRoaXMuY29kZSA9IGJhcmNvZGVEYXRhLnRleHQ7CiAgICAgICAgICAgICAgaWYgKHRoaXMuY29kZSAhPSAiIikgewogICAgICAgICAgICAgICB0aGlzLmdvdG9CYXJjb2RlKHRoaXMuY29kZSk7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgIGFsZXJ0KCJDw7NkaWdvIG8gZm9ybWF0byBpbmNvcnJlY3RvIik7CiAgICAgICAgICAgfQogICAgICAgICAgIAogICAgICAgICB9KQogICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgIGFsZXJ0KGVycik7CiAgICAgICAgIH0pOyovCiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CgogICAgdmFyIGdvdG9CYXJjb2RlID0gZnVuY3Rpb24gZ290b0JhcmNvZGUoY29kZSkgewogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogImJhcmNvZGUiLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgYmFyY29kZU51bTogY29kZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwoKICAgIHZhciBnb3RvVmlzaW9uQUkgPSBmdW5jdGlvbiBnb3RvVmlzaW9uQUkoaWQpIHsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJ2aXNpb24iLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgdmlzaW9uTnVtOiBpZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwoKICAgIHZhciBnb3RvS2V5Ym9hcmQgPSBmdW5jdGlvbiBnb3RvS2V5Ym9hcmQoKSB7CiAgICAgIHJvdXRlci5wdXNoKCIvbWFpbi9zZWFyY2gva2V5Ym9hcmQiKTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgZ290b0JhcmNvZGU6IGdvdG9CYXJjb2RlLAogICAgICBnb3RvVmlzaW9uQUk6IGdvdG9WaXNpb25BSSwKICAgICAgZ290b0tleWJvYXJkOiBnb3RvS2V5Ym9hcmQsCiAgICAgIGJhcmNvZGU6IGJhcmNvZGUsCiAgICAgIGNhbWVyYTogY2FtZXJhLAogICAgICBzZWFyY2hDaXJjbGU6IHNlYXJjaENpcmNsZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIEV2ZW50QnVzLm9uKCJjbG9zZU1vZGFsQUkiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChfdGhpcy5tb2RhbCAhPSB1bmRlZmluZWQpIHsKICAgICAgICBfdGhpcy5tb2RhbC5kaXNtaXNzKCk7CgogICAgICAgIGFsZXJ0KCJObyBzZSBoYSBkZXRlY3RhZG8gbmluZ8O6biBvYmpldG8iKTsKICAgICAgfQogICAgfSk7CiAgICBFdmVudEJ1cy5vbigiY2xvc2VNb2RhbEFJd2l0aFN1Y2Nlc3MiLCBmdW5jdGlvbiAoaWQpIHsKICAgICAgaWYgKF90aGlzLm1vZGFsICE9IHVuZGVmaW5lZCkgewogICAgICAgIF90aGlzLm1vZGFsLmRpc21pc3MoKTsKCiAgICAgICAgX3RoaXMuZ290b1Zpc2lvbkFJKGlkKTsKICAgICAgfQogICAgfSk7CiAgfQp9KTs="},{"version":3,"sources":["/Users/ruben107/Documents/Alfa/ecoAction/src/views/SearchFragment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <ion-page>\n    <ion-header>\n      <ion-toolbar>\n        <ion-title>SearchFragment</ion-title>\n      </ion-toolbar>\n    </ion-header>\n\n    <ion-content :fullscreen=\"true\">\n      <ion-header collapse=\"condense\">\n        <ion-toolbar>\n          <ion-title size=\"large\">Búsqueda</ion-title>\n        </ion-toolbar>\n      </ion-header>\n\n      <div class=\"container2\">\n        <img id=\"searchImage\" src=\"../../public/assets/images/search.png\" />\n\n        <ion-grid>\n          <ion-row>\n            <ion-col>\n              <ion-card\n                class=\"btnCard4 ion-activatable\"\n                @click=\"barscanner\"\n                color=\"lightred\"\n              >\n                <ion-card-content>\n                  <ion-ripple-effect></ion-ripple-effect>\n                  <div class=\"container1_2\">\n                    <ion-icon\n                      :icon=\"barcode\"\n                      class=\"iconSearch\"\n                      size=\"large\"\n                    ></ion-icon>\n                    <h1 class=\"btnLabels3 useLondrina\">\n                      Búsqueda con código de barras\n                    </h1>\n                  </div>\n                </ion-card-content>\n              </ion-card>\n            </ion-col>\n          </ion-row>\n\n          <ion-row>\n            <ion-col>\n              <ion-card\n                class=\"btnCard4 ion-activatable\"\n                @click=\"barscanner\"\n                color=\"lightgreen\"\n              >\n                <ion-card-content>\n                  <ion-ripple-effect></ion-ripple-effect>\n                  <div class=\"container1_2\">\n                    <ion-icon\n                      :icon=\"camera\"\n                      class=\"iconSearch\"\n                      size=\"large\"\n                    ></ion-icon>\n                    <h1 class=\"btnLabels3 useLondrina\">\n                      Búsqueda con visión inteligente\n                    </h1>\n                  </div>\n                </ion-card-content>\n              </ion-card>\n            </ion-col>\n          </ion-row>\n\n          <ion-row>\n            <ion-col>\n              <ion-card\n                class=\"btnCard4 ion-activatable\"\n                @click=\"gotoKeyboard\"\n                color=\"cyan\"\n              >\n                <ion-card-content>\n                  <ion-ripple-effect></ion-ripple-effect>\n                  <div class=\"container1_2\">\n                    <ion-icon\n                      :icon=\"searchCircle\"\n                      class=\"iconSearch\"\n                      size=\"large\"\n                    ></ion-icon>\n                    <h1 class=\"btnLabels3 useLondrina\">Búsqueda con teclado</h1>\n                  </div>\n                </ion-card-content>\n              </ion-card>\n            </ion-col>\n          </ion-row>\n        </ion-grid>\n      </div>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script>\nimport {\n  IonPage,\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonContent,\n  IonIcon,\n  IonGrid,\n  IonCol,\n  IonRow,\n  IonCard,\n  IonCardContent,\n  IonRippleEffect,\n  modalController,\n} from \"@ionic/vue\";\nimport { barcode, camera, searchCircle } from \"ionicons/icons\";\nimport { useRouter } from \"vue-router\";\nimport { defineComponent } from \"vue\";\n\nimport AIObjectModal from \"../components/AIObjectModal.vue\";\n\nimport { BarcodeScanner } from \"@ionic-native/barcode-scanner\";\nimport EventBus from \"eventing-bus\";\n\nimport { getFormat } from \"gtin\";\n\nexport default defineComponent({\n  name: \"SearchFragment\",\n  components: {\n    IonHeader,\n    IonToolbar,\n    IonTitle,\n    IonContent,\n    IonPage,\n    IonIcon,\n    IonGrid,\n    IonCol,\n    IonRow,\n    IonCard,\n    IonCardContent,\n    IonRippleEffect,\n  },\n  data: function () {\n    return {\n      code: null,\n    };\n  },\n  methods: {\n    barscanner: function () {\n      this.gotoBarcode('4009900535519');\n     /* BarcodeScanner.scan({\n        showFlipCameraButton: true, // iOS and Android\n        showTorchButton: true, // iOS and Android\n      })\n        .then((barcodeData) => {\n          \n          const q = getFormat(barcodeData.text);\n          if (q == \"GTIN-13\") {\n            this.code = barcodeData.text;\n\n            if (this.code != \"\") {\n              this.gotoBarcode(this.code);\n            }\n          } else {\n            alert(\"Código o formato incorrecto\");\n          }\n          \n        })\n        .catch((err) => {\n          alert(err);\n        });*/\n    },\n  },\n  setup() {\n    const router = useRouter();\n\n    const gotoBarcode = (code) => {\n      router.push({ name: \"barcode\", params: { barcodeNum: code } });\n    };\n\n    const gotoVisionAI = (id) => {\n      router.push({ name: \"vision\", params: { visionNum: id } });\n    };\n\n    const gotoKeyboard = () => {\n      router.push(\"/main/search/keyboard\");\n    };\n\n    return {\n      gotoBarcode,\n      gotoVisionAI,\n      gotoKeyboard,\n      barcode,\n      camera,\n      searchCircle,\n    };\n  },\n  created: function () {\n    EventBus.on(\"closeModalAI\", () => {\n      if (this.modal != undefined) {\n        this.modal.dismiss();\n        alert(\"No se ha detectado ningún objeto\");\n      }\n    });\n    EventBus.on(\"closeModalAIwithSuccess\", (id) => {\n      if (this.modal != undefined) {\n        this.modal.dismiss();\n        this.gotoVisionAI(id);\n      }\n    });\n  },\n});\n</script>\n\n<style scoped>\n@import \"../styles/style.css\";\n@import \"../styles/colorStyle.css\";\n@import \"../styles/fontStyle.css\";\n</style>"],"sourceRoot":""}]}