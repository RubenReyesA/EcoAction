{"remainingRequest":"/Volumes/DATA SHARE/Trabajos 4t-UAB/TFG/Projecte/ecoAction/node_modules/babel-loader/lib/index.js!/Volumes/DATA SHARE/Trabajos 4t-UAB/TFG/Projecte/ecoAction/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/DATA SHARE/Trabajos 4t-UAB/TFG/Projecte/ecoAction/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Volumes/DATA SHARE/Trabajos 4t-UAB/TFG/Projecte/ecoAction/src/components/TokensPage.vue?vue&type=script&lang=js","dependencies":[{"path":"/Volumes/DATA SHARE/Trabajos 4t-UAB/TFG/Projecte/ecoAction/src/components/TokensPage.vue","mtime":1613123311773},{"path":"/Volumes/DATA SHARE/Trabajos 4t-UAB/TFG/Projecte/ecoAction/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/DATA SHARE/Trabajos 4t-UAB/TFG/Projecte/ecoAction/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/DATA SHARE/Trabajos 4t-UAB/TFG/Projecte/ecoAction/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/DATA SHARE/Trabajos 4t-UAB/TFG/Projecte/ecoAction/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgSW9uQ29udGVudCwgSW9uSGVhZGVyLCBJb25QYWdlLCBJb25UaXRsZSwgSW9uVG9vbGJhciwgSW9uQnV0dG9ucywgSW9uQnV0dG9uLCBJb25JY29uLCBJb25CYWNrQnV0dG9uLCBJb25DYXJkLCBJb25DYXJkQ29udGVudCwgSW9uUmlwcGxlRWZmZWN0LCBsb2FkaW5nQ29udHJvbGxlciwgSW9uQ2FyZEhlYWRlciwgSW9uQ2FyZFRpdGxlLCBJb25MaXN0LCBJb25JdGVtLCBJb25HcmlkLCBJb25Sb3csIElvbkNvbCB9IGZyb20gIkBpb25pYy92dWUiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyBOYXRpdmVTdG9yYWdlIH0gZnJvbSAiQGlvbmljLW5hdGl2ZS9uYXRpdmUtc3RvcmFnZSI7CmltcG9ydCB7IGFkZENpcmNsZSB9IGZyb20gImlvbmljb25zL2ljb25zIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHNoYTI1NiBmcm9tICJqcy1zaGEyNTYiOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICJUb2tlbnNQYWdlIiwKICBjb21wb25lbnRzOiB7CiAgICBJb25Db250ZW50OiBJb25Db250ZW50LAogICAgSW9uSGVhZGVyOiBJb25IZWFkZXIsCiAgICBJb25QYWdlOiBJb25QYWdlLAogICAgSW9uVGl0bGU6IElvblRpdGxlLAogICAgSW9uVG9vbGJhcjogSW9uVG9vbGJhciwKICAgIElvbkJ1dHRvbnM6IElvbkJ1dHRvbnMsCiAgICBJb25CdXR0b246IElvbkJ1dHRvbiwKICAgIElvbkljb246IElvbkljb24sCiAgICBJb25DYXJkOiBJb25DYXJkLAogICAgSW9uQ2FyZENvbnRlbnQ6IElvbkNhcmRDb250ZW50LAogICAgSW9uQmFja0J1dHRvbjogSW9uQmFja0J1dHRvbiwKICAgIElvblJpcHBsZUVmZmVjdDogSW9uUmlwcGxlRWZmZWN0LAogICAgSW9uR3JpZDogSW9uR3JpZCwKICAgIElvblJvdzogSW9uUm93LAogICAgSW9uQ29sOiBJb25Db2wsCiAgICBJb25MaXN0OiBJb25MaXN0LAogICAgSW9uSXRlbTogSW9uSXRlbSwKICAgIElvbkNhcmRIZWFkZXI6IElvbkNhcmRIZWFkZXIsCiAgICBJb25DYXJkVGl0bGU6IElvbkNhcmRUaXRsZQogIH0sCiAgcHJvcHM6IFsiYWRtaW5OdW0iXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVzc2FnZXM6IHsKICAgICAgICBlczogcmVxdWlyZSgiLi4vLi4vcHVibGljL2Fzc2V0cy9pMThuL2VzLmpzb24iKSwKICAgICAgICBjYTogcmVxdWlyZSgiLi4vLi4vcHVibGljL2Fzc2V0cy9pMThuL2NhLmpzb24iKSwKICAgICAgICBlbjogcmVxdWlyZSgiLi4vLi4vcHVibGljL2Fzc2V0cy9pMThuL2VuLmpzb24iKQogICAgICB9LAogICAgICBpZGlvbWE6ICJlcyIsCiAgICAgIGlkZW50aWZpZXJzTGlzdDogW3sKICAgICAgICBpZGVudGlmaWVyOiAiNzcxMjk1MTVnIiwKICAgICAgICBjb2xvcjogInN1Y2Nlc3MiCiAgICAgIH1dLAogICAgICBjb250cm9sOiBudWxsLAogICAgICBjaGVja2VyOiBbIlQiLCAiUiIsICJXIiwgIkEiLCAiRyIsICJNIiwgIlkiLCAiRiIsICJQIiwgIkQiLCAiWCIsICJCIiwgIk4iLCAiSiIsICJaIiwgIlMiLCAiUSIsICJWIiwgIkgiLCAiTCIsICJDIiwgIksiLCAiRSJdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2hlY2tJZGVudGlmaWVyOiBmdW5jdGlvbiBjaGVja0lkZW50aWZpZXIoaWQpIHsKICAgICAgdmFyIG51bSA9IHBhcnNlSW50KGlkLnN1YnN0cmluZygwLCBpZC5sZW5ndGggLSAxKSk7CiAgICAgIHZhciBsZXR0ZXIgPSBpZC5zdWJzdHJpbmcoaWQubGVuZ3RoIC0gMSwgaWQubGVuZ3RoKTsKICAgICAgdmFyIHIgPSBudW0gJSAyMzsKICAgICAgcmV0dXJuIHRoaXMuY2hlY2tlcltyXSA9PSBsZXR0ZXIudG9Mb3dlckNhc2UoKSB8fCB0aGlzLmNoZWNrZXJbcl0gPT0gbGV0dGVyLnRvVXBwZXJDYXNlKCk7CiAgICB9LAogICAgYWRkSWRlbnRpZmllcjogZnVuY3Rpb24gYWRkSWRlbnRpZmllcigpIHsKICAgICAgdmFyIGlkID0gcHJvbXB0KCJJbnRyb2R1emNhIGVsIEROSSB0b2RvIHNlZ3VpZG8gc2luIGd1aW9uZXMiKTsKCiAgICAgIGlmICh0aGlzLmNoZWNrSWRlbnRpZmllcihpZCkpIHsKICAgICAgICB0aGlzLmlkZW50aWZpZXJzTGlzdC5wdXNoKHsKICAgICAgICAgIGlkZW50aWZpZXI6IGlkLAogICAgICAgICAgY29sb3I6IG51bGwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydCgiRXJyb3I6IEROSSBpbnbDoWxpZG8iKTsKICAgICAgfQogICAgfSwKICAgIGZpbmRJZGVudGlmaWVyUmVzcG9uc2U6IGZ1bmN0aW9uIGZpbmRJZGVudGlmaWVyUmVzcG9uc2UoaWQsIGxpc3QpIHsKICAgICAgdmFyIGkgPSAwOwogICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCiAgICAgIHdoaWxlIChpIDwgbGlzdC5sZW5ndGggJiYgZm91bmQgPT0gZmFsc2UpIHsKICAgICAgICBpZiAobGlzdFtpXSA9PSBpZCkgewogICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpKys7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZm91bmQ7CiAgICB9LAogICAgY2hlY2tEYXRhOiBmdW5jdGlvbiBjaGVja0RhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcyh7CiAgICAgICAgdXJsOiAiaHR0cDovLzE5Mi4xNjguMS40MTozMDEzL2NoZWNrSWRlbnRpZmllcnMiLAogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIGRhdGE6IHRoaXMuaWRlbnRpZmllcnNMaXN0CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5pZGVudGlmaWVyc0xpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChfdGhpcy5maW5kSWRlbnRpZmllclJlc3BvbnNlKF90aGlzLmlkZW50aWZpZXJzTGlzdFtpXVsiaWRlbnRpZmllciJdLCByZXNwb25zZS5kYXRhKSkgewogICAgICAgICAgICBfdGhpcy5pZGVudGlmaWVyc0xpc3RbaV1bImNvbG9yIl0gPSAic3VjY2VzcyI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy5pZGVudGlmaWVyc0xpc3RbaV1bImNvbG9yIl0gPSAiZGFuZ2VyIjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZVRva2VuczogZnVuY3Rpb24gdXBkYXRlVG9rZW5zKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBpZGVudGlmaWVyc1RvU2VuZCA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmlkZW50aWZpZXJzTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLmlkZW50aWZpZXJzTGlzdFtpXVsiY29sb3IiXSA9PSAic3VjY2VzcyIpIHsKICAgICAgICAgIGlkZW50aWZpZXJzVG9TZW5kLnB1c2godGhpcy5pZGVudGlmaWVyc0xpc3RbaV1bImlkZW50aWZpZXIiXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgcGFzcyA9IHByb21wdCgiSW50cm9kdXpjYSBsYSBjb250cmFzZcOxYSBwYXJhIGF1dG9yaXphciBlbCBlbnZpbyBkZSB0b2tlbnMiKTsKCiAgICAgIGlmIChwYXNzICE9IG51bGwgJiYgcGFzcyAhPSAiIikgewogICAgICAgIGxvYWRpbmdDb250cm9sbGVyLmNyZWF0ZSh7CiAgICAgICAgICBtZXNzYWdlOiAiQcOxYWRpZW5kbyB0b2tlbnMuIFBvciBmYXZvciBlc3BlcmUgeSBubyBjaWVycmUgbGEgYXBsaWNhY2nDs24iCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobG9hZGluZykgewogICAgICAgICAgX3RoaXMyLmNvbnRyb2wgPSBsb2FkaW5nOwogICAgICAgICAgbG9hZGluZy5wcmVzZW50KCk7CiAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgIHVybDogImh0dHA6Ly8xOTIuMTY4LjEuNDE6MzAxMy91cGRhdGVUb2tlbnMiLAogICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgICAgZGF0YTogW2lkZW50aWZpZXJzVG9TZW5kLCAiZGVpeGFsbGVyaWEuYmFyYmVyYUBiZHYuY2F0Iiwgc2hhMjU2KHBhc3MpLCAyODUwLCAxNjEzMTIyNTY1LCAxNTBdCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBfdGhpczIuY29udHJvbC5kaXNtaXNzKCk7CgogICAgICAgICAgICBhbGVydChyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzMi5jb250cm9sLmRpc21pc3MoKTsKCiAgICAgICAgICBhbGVydCgiU2UgaGEgcHJvZHVjaWRvIHVuIGVycm9yOiAiICsgZXJyKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIE5hdGl2ZVN0b3JhZ2UuZ2V0SXRlbSgiaWRpb21hIikudGhlbihmdW5jdGlvbiAoeCkgewogICAgICBfdGhpczMuaWRpb21hID0geDsKICAgIH0pOwogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgcmV0dXJuIHsKICAgICAgYWRkQ2lyY2xlOiBhZGRDaXJjbGUKICAgIH07CiAgfQp9KTs="},{"version":3,"sources":["/Volumes/DATA SHARE/Trabajos 4t-UAB/TFG/Projecte/ecoAction/src/components/TokensPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <ion-page>\n    <ion-header :translucent=\"true\">\n      <ion-toolbar>\n        <IonButtons>\n          <ion-back-button :text=\"messages[idioma]['backText']\" />\n        </IonButtons>\n        <ion-title>TokensPage {{ adminNum }}</ion-title>\n      </ion-toolbar>\n    </ion-header>\n\n    <ion-content :fullscreen=\"true\">\n      <div class=\"container2\">\n        <div id=\"loginRegisterDiv\">\n          <ion-grid>\n            <ion-row>\n              <ion-col>\n                <ion-card\n                  class=\"btnCard3 ion-activatable\"\n                  color=\"warning\"\n                  @click=\"checkData\"\n                >\n                  <ion-card-content>\n                    <ion-ripple-effect></ion-ripple-effect>\n                    <h1 class=\"btnLabels2 useLondrina\">Verificar</h1>\n                  </ion-card-content>\n                </ion-card>\n              </ion-col>\n              <ion-col>\n                <ion-card\n                  class=\"btnCard3 ion-activatable\"\n                  color=\"lightgreen\"\n                  @click=\"updateTokens\"\n                >\n                  <ion-card-content>\n                    <ion-ripple-effect></ion-ripple-effect>\n                    <h1 class=\"btnLabels2 useLondrina\">Confirmar</h1>\n                  </ion-card-content>\n                </ion-card>\n              </ion-col>\n            </ion-row>\n          </ion-grid>\n        </div>\n      </div>\n\n      <ion-card>\n        <ion-card-header>\n          <div class=\"container1_1\">\n            <ion-card-title>Identificadores</ion-card-title>\n            <ion-buttons>\n              <ion-button @click=\"addIdentifier\">\n                <ion-icon slot=\"icon-only\" :icon=\"addCircle\"></ion-icon>\n              </ion-button>\n            </ion-buttons>\n          </div>\n        </ion-card-header>\n        <ion-card-content>\n          <ion-list lines=\"full\">\n            <ion-item v-for=\"i in identifiersList\" :key=\"i\" :color=\"i.color\">\n              {{ i.identifier }}</ion-item\n            >\n          </ion-list>\n        </ion-card-content>\n      </ion-card>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script>\nimport {\n  IonContent,\n  IonHeader,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonButtons,\n  IonButton,\n  IonIcon,\n  IonBackButton,\n  IonCard,\n  IonCardContent,\n  IonRippleEffect,\n  loadingController,\n  IonCardHeader,\n  IonCardTitle,\n  IonList,\n  IonItem,\n  IonGrid,\n  IonRow,\n  IonCol,\n} from \"@ionic/vue\";\nimport { defineComponent } from \"vue\";\nimport { NativeStorage } from \"@ionic-native/native-storage\";\n\nimport { addCircle } from \"ionicons/icons\";\nimport axios from \"axios\";\nimport sha256 from \"js-sha256\";\n\nexport default defineComponent({\n  name: \"TokensPage\",\n  components: {\n    IonContent,\n    IonHeader,\n    IonPage,\n    IonTitle,\n    IonToolbar,\n    IonButtons,\n    IonButton,\n    IonIcon,\n    IonCard,\n    IonCardContent,\n    IonBackButton,\n    IonRippleEffect,\n    IonGrid,\n    IonRow,\n    IonCol,\n    IonList,\n    IonItem,\n    IonCardHeader,\n    IonCardTitle,\n  },\n  props: [\"adminNum\"],\n\n  data: function () {\n    return {\n      messages: {\n        es: require(\"../../public/assets/i18n/es.json\"),\n        ca: require(\"../../public/assets/i18n/ca.json\"),\n        en: require(\"../../public/assets/i18n/en.json\"),\n      },\n      idioma: \"es\",\n      identifiersList: [{ identifier: \"77129515g\", color: \"success\" }],\n      control: null,\n      checker: [\n        \"T\",\n        \"R\",\n        \"W\",\n        \"A\",\n        \"G\",\n        \"M\",\n        \"Y\",\n        \"F\",\n        \"P\",\n        \"D\",\n        \"X\",\n        \"B\",\n        \"N\",\n        \"J\",\n        \"Z\",\n        \"S\",\n        \"Q\",\n        \"V\",\n        \"H\",\n        \"L\",\n        \"C\",\n        \"K\",\n        \"E\",\n      ],\n    };\n  },\n  methods: {\n    checkIdentifier: function (id) {\n      const num = parseInt(id.substring(0, id.length - 1));\n      const letter = id.substring(id.length - 1, id.length);\n\n      const r = num % 23;\n\n      return (\n        this.checker[r] == letter.toLowerCase() ||\n        this.checker[r] == letter.toUpperCase()\n      );\n    },\n    addIdentifier: function () {\n      const id = prompt(\"Introduzca el DNI todo seguido sin guiones\");\n\n      if (this.checkIdentifier(id)) {\n        this.identifiersList.push({\n          identifier: id,\n          color: null,\n        });\n      } else {\n        alert(\"Error: DNI inválido\");\n      }\n    },\n    findIdentifierResponse: function (id, list) {\n      let i = 0;\n      let found = false;\n\n      while (i < list.length && found == false) {\n        if (list[i] == id) {\n          found = true;\n        } else {\n          i++;\n        }\n      }\n\n      return found;\n    },\n    checkData: function () {\n      axios({\n        url: \"http://192.168.1.41:3013/checkIdentifiers\",\n        method: \"post\",\n        data: this.identifiersList,\n      }).then((response) => {\n        for (let i = 0; i < this.identifiersList.length; i++) {\n          if (\n            this.findIdentifierResponse(\n              this.identifiersList[i][\"identifier\"],\n              response.data\n            )\n          ) {\n            this.identifiersList[i][\"color\"] = \"success\";\n          } else {\n            this.identifiersList[i][\"color\"] = \"danger\";\n          }\n        }\n      });\n    },\n    updateTokens: function () {\n      const identifiersToSend = [];\n\n      for (let i = 0; i < this.identifiersList.length; i++) {\n        if (this.identifiersList[i][\"color\"] == \"success\") {\n          identifiersToSend.push(this.identifiersList[i][\"identifier\"]);\n        }\n      }\n\n      const pass = prompt(\n        \"Introduzca la contraseña para autorizar el envio de tokens\"\n      );\n\n      if (pass != null && pass != \"\") {\n        loadingController\n          .create({\n            message:\n              \"Añadiendo tokens. Por favor espere y no cierre la aplicación\",\n          })\n          .then((loading) => {\n            this.control = loading;\n            loading.present();\n            axios({\n              url: \"http://192.168.1.41:3013/updateTokens\",\n              method: \"post\",\n              data: [\n                identifiersToSend,\n                \"deixalleria.barbera@bdv.cat\",\n                sha256(pass),\n                2850,\n                1613122565,\n                150,\n              ],\n            }).then((response) => {\n              this.control.dismiss();\n              alert(response.data);\n            });\n          })\n          .catch((err) => {\n            this.control.dismiss();\n            alert(\"Se ha producido un error: \" + err);\n          });\n      }\n    },\n  },\n  mounted: function () {\n    NativeStorage.getItem(\"idioma\").then((x) => {\n      this.idioma = x;\n    });\n  },\n  setup: function () {\n    return {\n      addCircle,\n    };\n  },\n});\n</script>\n\n<style scoped>\n@import \"../styles/style.css\";\n@import \"../styles/fontStyle.css\";\n@import \"../styles/colorStyle.css\";\n</style>"],"sourceRoot":""}]}